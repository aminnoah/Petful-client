(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{31:function(e,t,n){e.exports=n(45)},32:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);n(32);var a=n(0),o=n.n(a),r=n(18),s=n.n(r),i=n(17),l=n(6),c=n(7),u=n(9),p=n(8),h=n(10),d=n(4),m=n(14),g=n(15),f=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Header"},o.a.createElement("h1",{className:"nav-header"},o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"}),o.a.createElement(i.b,{to:"/"},"Adopt a Pet Today!!"),o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"})),o.a.createElement("nav",null,o.a.createElement(i.b,{to:"/adoption",className:"adopt-link"},o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"}),"Adopt Now!",o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"}))))}}]),t}(a.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Homepage"},o.a.createElement("div",{className:"page-container"},o.a.createElement("h1",{className:"welcome"},"Petful FIFO Adoption Center"),o.a.createElement("div",{className:"process-container"},o.a.createElement("h2",null,o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"}),"Thank You For Visiting Our Center!",o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"})),o.a.createElement("p",null,"How we work: We operate on a First in First out basis."),o.a.createElement("p",null,"We believe all pets should be loved and treasured equally."),o.a.createElement("p",null,"Cat person or dog person we don't care, our only rule is"),o.a.createElement("p",null,"that you wait your turn and adopt the next available pet of"),o.a.createElement("p",null,"your preference."),o.a.createElement("h3",null,"Bring home your best fried TODAY!!",o.a.createElement("br",null),"Click"," ",o.a.createElement(i.b,{className:"adopt",to:"/adoption"},"Adopt")," ","to meet your new best friend!"))))}}]),t}(a.Component),b=n(29),j="https://damp-temple-58533.herokuapp.com/",N={getCats:function(){return fetch("".concat(j,"/pets/cats/next")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getDogs:function(){return fetch("".concat(j,"/pets/dogs/next")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getPeople:function(){return fetch("".concat(j,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postPeople:function(e){return fetch("".concat(j,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)})},getNextPerson:function(){return fetch("".concat(j,"/people/next")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeueCats:function(){return fetch("".concat(j,"/pets/cats/next"),{method:"DELETE",headers:{"content-type":"application/json"}})},dequeueDogs:function(){return fetch("".concat(j,"/pets/dogs/next"),{method:"DELETE",headers:{"content-type":"application/json"}})}},v=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={pet:{}},n.dequeueAndGetNext=function(){n.props.dequeue().then(n.props.getNextPet).then((function(){N.getPeople().then((function(e){n.props.setLine(e)}))})).then((function(){n.props.handleShow(),n.props.toggleAdopt(),n.props.setInLine()}))},n.renderAdoptButton=function(){return n.props.adopt&&o.a.createElement("button",{className:"btn",onClick:function(){return n.dequeueAndGetNext()}},"Adopt Me!")},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.pet,t=e.age,n=e.breed,a=e.description,r=e.gender,s=e.imageURL,i=e.name,l=e.story;return o.a.createElement("div",{className:"pet-container"},o.a.createElement("h1",null,this.props.title),o.a.createElement("img",{className:"pet-img",src:s,alt:"pet"}),o.a.createElement("div",{className:"pet-details-container"},o.a.createElement("h2",null,i),o.a.createElement("ul",{className:"pet-details"},o.a.createElement("li",null,"Breed: ",n," "),o.a.createElement("li",null,"Gender: ",r)," ",o.a.createElement("li",null,"Age: ",t),o.a.createElement("li",null,"Story: ",l),o.a.createElement("li",null,"Description: ",a)),this.renderAdoptButton()))}}]),t}(a.Component),y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderError=function(){return o.a.createElement("h1",null,"Shelter is Empty!")},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"pet-list"},this.props.cat.message?o.a.createElement("div",{className:"error"},this.renderError()):o.a.createElement(v,{title:"Cat",key:"Cat",toggleAdopt:this.props.toggleAdopt,dequeue:N.dequeueCats,adopt:this.props.adopt,pet:this.props.cat,getNextPet:this.props.getNextCat,handleShow:this.props.handleShow,setInLine:this.props.setInLine,setLine:this.props.setLine}),this.props.dog.message?o.a.createElement("div",{className:"error"},this.renderError()):o.a.createElement(v,{title:"Dog",key:"Dog",toggleAdopt:this.props.toggleAdopt,dequeue:N.dequeueDogs,adopt:this.props.adopt,pet:this.props.dog,getNextPet:this.props.getNextDog,handleShow:this.props.handleShow,setInLine:this.props.setInLine,setLine:this.props.setLine}))}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault();var t=e.target.name;N.postPeople({person:t.value}).then(n.props.setLine(t.value)),n.props.setInLine(),n.props.setPerson(t.value),n.props.toggleCat()},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-form"},o.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("input",{className:"name-input",name:"name"}),o.a.createElement("button",{className:"btn",type:"submit"},"Submit your name to be added to the list")))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderLine=function(){return n.props.line.map((function(e,t){return o.a.createElement("li",{key:btoa(e+t)},e)}))},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"people-container"},o.a.createElement("h1",null,"Add Your Name to the Adoption Queue:"),o.a.createElement("p",null,"Submit your name in the box below."),o.a.createElement("p",null,"You will be added to the end of the line."),o.a.createElement("p",null,"When you reach the top of the list, you will be "),o.a.createElement("p",null,"shown the next available dog or cat to adopt!"),o.a.createElement("ul",null,this.renderLine()," "),!this.props.inLine&&o.a.createElement(L,{setInLine:this.props.setInLine,setPerson:this.props.setPerson,setLine:this.props.setLine,toggleCat:this.props.toggleCat}))}}]),t}(a.Component),C=n(30),w=n(19),S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).getNextCat=function(){return N.getCats().then((function(e){n.setState({cat:e})}))},n.getNextDog=function(){return N.getDogs().then((function(e){return n.setState({dog:e})}))},n.setAdopt=function(){n.state.nextInLine===n.state.person&&n.setState({adopt:!0})},n.toggleAdopt=function(){n.setState({adopt:!n.state.adopt})},n.setLine=function(e){n.setState({line:[].concat(Object(b.a)(n.state.line),[e])})},n.setInLine=function(){n.setState({inLine:!n.state.inLine})},n.getAndSetLine=function(e){n.setState({line:e})},n.toggleCat=function(){n.setState({dequeueCat:!n.state.dequeueCat})},n.toggleDog=function(){n.setState({dequeueDog:!n.state.dequeueDog})},n.setPerson=function(e){n.setState({person:e})},n.handlePetQueue=function(){!0===n.state.dequeueCat?N.dequeueCats().then((function(){N.getCats().then((function(e){n.setState({cat:e}),N.getNextPerson().then((function(e){return n.setState({nextInLine:e})})),n.toggleCat(),n.toggleDog()})).catch((function(e){n.setState({cat:e}),n.toggleCat(),n.toggleDog()}))})):!0===n.state.dequeueDog&&N.dequeueDogs().then((function(){N.getDogs().then((function(e){n.setState({dog:e}),N.getNextPerson().then((function(e){return n.setState({nextInLine:e})})),n.toggleCat(),n.toggleDog()})).catch((function(e){n.setState({dog:e}),n.toggleCat(),n.toggleDog()}))}))},n.handleLineGeneration=function(e){N.postPeople({person:e}).then((function(){N.getPeople().then((function(e){return n.setState({line:e})}))}))},n.handleShow=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1,dequeueCat:!1,dequeueDog:!1})},n.renderAdopt=function(){return o.a.createElement("div",null,!0===n.state.adopt&&o.a.createElement("h2",null,"It's your turn to adopt right now!!"))},n.state={cat:{},dog:{},line:[],inLine:!1,adopt:!1,person:"",nextInLine:null,dequeueCat:!1,dequeueDog:!1,show:!1,error:null},n.timer=null,n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getNextCat(),this.getNextDog(),N.getPeople().then((function(t){e.setState({line:t})})),N.getNextPerson().then((function(t){return e.setState({nextInLine:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.state.line[0]!==this.state.person&&null===this.timer&&!0===this.state.inLine&&(this.timer=setInterval((function(){t.handlePetQueue(),t.handleLineGeneration(t.state.nextInLine)}),6e3)),this.state.line[0]===this.state.person&&null!==this.timer&&(clearInterval(this.timer),this.timer=null,!0!==e.adopt&&this.toggleAdopt())}},{key:"render",value:function(){return o.a.createElement("div",{className:"adoption-container"},o.a.createElement("h1",null,o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"}),"Our Pets!!",o.a.createElement(m.a,{icon:g.a,className:"paw icon",color:"black"})),o.a.createElement(y,{toggleAdopt:this.toggleAdopt,getNextCat:this.getNextCat,getNextDog:this.getNextDog,adopt:this.state.adopt,cat:this.state.cat,dog:this.state.dog,setInLine:this.setInLine,handleShow:this.handleShow,setLine:this.getAndSetLine}),this.renderAdopt(),o.a.createElement(O,{line:this.state.line,inLine:this.state.inLine,setInLine:this.setInLine,setPerson:this.setPerson,toggleCat:this.toggleCat,setLine:this.setLine}),o.a.createElement("div",{className:"popup-container"},o.a.createElement(w.a,{className:"popup",show:this.state.show,onHide:this.handleClose},o.a.createElement(w.a.Header,null,o.a.createElement(w.a.Title,null,"Congratulations!")),o.a.createElement(w.a.Body,null,"Have a Happy Life with Your New Friend:)"),o.a.createElement(w.a.Footer,null,o.a.createElement(C.a,{className:"btn",variant:"primary",onClick:this.handleClose},"Thank You for Adopting!")))))}}]),t}(a.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"root"},o.a.createElement("header",null,o.a.createElement(d.a,{path:"/",component:f})),o.a.createElement("main",null,o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:E}),o.a.createElement(d.a,{path:"/adoption",component:S}))))}}]),t}(a.Component);s.a.render(o.a.createElement(i.a,null,o.a.createElement(k,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.97ccb58e.chunk.js.map